{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useReducer, userEffect, useState } from \"react\";\nimport jwt_decode from \"jwt-decode\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport authReducer from \"../reducers/Auth.reducer\";\nimport { setCurrentUser } from \"../actions/Auth.actions\";\nimport AuthGlobal from \"./AuthGlobal\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Auth = function Auth(props) {\n  var _useReducer = useReducer(authReducer, {\n      isAuthenticated: null,\n      user: {}\n    }),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    stateUser = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showChild = _useState2[0],\n    setShowChild = _useState2[1];\n  useEffect(function () {\n    setShowChild(true);\n    if (AsyncStorage.jwt) {\n      var decoded = AsyncStorage.jwt ? AsyncStorage.jwt : \"\";\n      if (setShowChild) {\n        dispatch(setCurrentUserUser(jwt_decode(decoded)));\n      }\n    }\n    return function () {\n      return setShowChild(false);\n    };\n  }, []);\n  if (!showChild) {\n    return null;\n  } else {\n    return _jsx(AuthGlobal.Provider, {\n      value: {\n        stateUser: stateUser,\n        dispatch: dispatch\n      },\n      children: props.children\n    });\n  }\n};\nexport default Auth;","map":{"version":3,"names":["React","useEffect","useReducer","userEffect","useState","jwt_decode","AsyncStorage","authReducer","setCurrentUser","AuthGlobal","jsx","_jsx","Auth","props","_useReducer","isAuthenticated","user","_useReducer2","_slicedToArray","stateUser","dispatch","_useState","_useState2","showChild","setShowChild","jwt","decoded","setCurrentUserUser","Provider","value","children"],"sources":["D:/Learn/Nodejs/PRM_SWD_Project/mobile/easy-shop/Context/store/Auth.js"],"sourcesContent":["import React, { useEffect, useReducer, userEffect, useState } from \"react\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { AsyncStorage } from \"react-native\";\r\n\r\nimport authReducer from \"../reducers/Auth.reducer\";\r\nimport { setCurrentUser } from \"../actions/Auth.actions\";\r\nimport AuthGlobal from \"./AuthGlobal\";\r\n\r\nconst Auth = (props) => {\r\n  const [stateUser, dispatch] = useReducer(authReducer, {\r\n    isAuthenticated: null,\r\n    user: {},\r\n  });\r\n  const [showChild, setShowChild] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setShowChild(true);\r\n    if (AsyncStorage.jwt) {\r\n      const decoded = AsyncStorage.jwt ? AsyncStorage.jwt : \"\";\r\n      if (setShowChild) {\r\n        dispatch(setCurrentUserUser(jwt_decode(decoded)));\r\n      }\r\n    }\r\n    return () => setShowChild(false);\r\n  }, []);\r\n\r\n  if (!showChild) {\r\n    return null;\r\n  } else {\r\n    return (\r\n      <AuthGlobal.Provider\r\n        value={{\r\n          stateUser,\r\n          dispatch,\r\n        }}\r\n      >\r\n        {props.children}\r\n      </AuthGlobal.Provider>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Auth;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,UAAU,EAAEC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAC1E,OAAOC,UAAU,MAAM,YAAY;AAAC,SAC3BC,YAAY;AAErB,OAAOC,WAAW;AAClB,SAASC,cAAc;AACvB,OAAOC,UAAU;AAAqB,SAAAC,GAAA,IAAAC,IAAA;AAEtC,IAAMC,IAAI,GAAG,SAAPA,IAAIA,CAAIC,KAAK,EAAK;EACtB,IAAAC,WAAA,GAA8BZ,UAAU,CAACK,WAAW,EAAE;MACpDQ,eAAe,EAAE,IAAI;MACrBC,IAAI,EAAE,CAAC;IACT,CAAC,CAAC;IAAAC,YAAA,GAAAC,cAAA,CAAAJ,WAAA;IAHKK,SAAS,GAAAF,YAAA;IAAEG,QAAQ,GAAAH,YAAA;EAI1B,IAAAI,SAAA,GAAkCjB,QAAQ,CAAC,KAAK,CAAC;IAAAkB,UAAA,GAAAJ,cAAA,CAAAG,SAAA;IAA1CE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAE9BrB,SAAS,CAAC,YAAM;IACduB,YAAY,CAAC,IAAI,CAAC;IAClB,IAAIlB,YAAY,CAACmB,GAAG,EAAE;MACpB,IAAMC,OAAO,GAAGpB,YAAY,CAACmB,GAAG,GAAGnB,YAAY,CAACmB,GAAG,GAAG,EAAE;MACxD,IAAID,YAAY,EAAE;QAChBJ,QAAQ,CAACO,kBAAkB,CAACtB,UAAU,CAACqB,OAAO,CAAC,CAAC,CAAC;MACnD;IACF;IACA,OAAO;MAAA,OAAMF,YAAY,CAAC,KAAK,CAAC;IAAA;EAClC,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACD,SAAS,EAAE;IACd,OAAO,IAAI;EACb,CAAC,MAAM;IACL,OACEZ,IAAA,CAACF,UAAU,CAACmB,QAAQ;MAClBC,KAAK,EAAE;QACLV,SAAS,EAATA,SAAS;QACTC,QAAQ,EAARA;MACF,CAAE;MAAAU,QAAA,EAEDjB,KAAK,CAACiB;IAAQ,EACK;EAE1B;AACF,CAAC;AAED,eAAelB,IAAI"},"metadata":{},"sourceType":"module"}