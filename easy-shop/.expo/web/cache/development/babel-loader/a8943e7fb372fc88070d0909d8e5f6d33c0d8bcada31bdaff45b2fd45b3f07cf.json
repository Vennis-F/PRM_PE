{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"D:\\\\Learn\\\\Nodejs\\\\PRM_SWD_Project\\\\mobile\\\\easy-shop\\\\Screens\\\\Admin\\\\Categories.js\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport EasyButton from \"../../Shared/StyledComponents/EasyButton\";\nimport baseURL from \"../../assets/common/baseUrl\";\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { add } from \"react-native-reanimated\";\nvar _Dimensions$get = Dimensions.get(\"window\"),\n  width = _Dimensions$get.width;\nvar Item = function Item(props) {\n  return React.createElement(View, {\n    style: styles.item,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  }, props.item.name), React.createElement(EasyButton, {\n    danger: true,\n    medium: true,\n    onPress: function onPress() {\n      return props.delete(props.item._id);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"white\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 17\n    }\n  }, \"Delete\")));\n};\nvar Categories = function Categories(props) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    categories = _useState2[0],\n    setCategories = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    categoryName = _useState4[0],\n    setCategoryName = _useState4[1];\n  var _useState5 = useState(),\n    _useState6 = _slicedToArray(_useState5, 2),\n    token = _useState6[0],\n    setToken = _useState6[1];\n  useEffect(function () {\n    AsyncStorage.getItem(\"jwt\").then(function (res) {\n      setToken(res);\n    }).catch(function (error) {\n      return console.log(error);\n    });\n    axios.get(baseURL + \"categories\").then(function (res) {\n      return setCategories(res.data);\n    }).catch(function (error) {\n      return alert(\"Error to load categories\");\n    });\n    return function () {\n      setCategories();\n      setToken();\n    };\n  }, []);\n  var addCategory = function addCategory() {\n    var category = {\n      name: categoryName\n    };\n    var config = {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    };\n    axios.post(baseURL + \"categories\", category, config).then(function (res) {\n      return setCategories([].concat(_toConsumableArray(categories), [res.data]));\n    }).catch(function (error) {\n      return alert(\"Error to load categories\");\n    });\n    setCategoryName(\"\");\n  };\n  var deleteCategory = function deleteCategory(id) {\n    var config = {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    };\n    axios.delete(baseURL + \"categories/\" + id, config).then(function (res) {\n      var newCategories = categories.filter(function (item) {\n        return item.id !== id;\n      });\n      setCategories(newCategories);\n    }).catch(function (error) {\n      return alert(\"Error to load categories\");\n    });\n  };\n  return React.createElement(View, {\n    style: {\n      position: \"relative\",\n      height: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      marginBottom: 60\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, React.createElement(FlatList, {\n    data: categories,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item,\n        index = _ref.index;\n      return React.createElement(Item, {\n        item: item,\n        index: index,\n        delete: deleteCategory,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }\n      });\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  })), React.createElement(View, {\n    style: styles.bottomBar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, \"Add Category\")), React.createElement(View, {\n    style: {\n      width: width / 2.5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, React.createElement(TextInput, {\n    value: categoryName,\n    style: styles.input,\n    onChangeText: function onChangeText(text) {\n      return setCategoryName(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, React.createElement(EasyButton, {\n    medium: true,\n    primary: true,\n    onPress: function onPress() {\n      return addCategory();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"white\",\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, \"Submit\")))));\n};\nvar styles = StyleSheet.create({\n  bottomBar: {\n    backgroundColor: \"white\",\n    width: width,\n    height: 60,\n    padding: 2,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    position: \"absolute\",\n    bottom: 0,\n    left: 0\n  },\n  input: {\n    height: 40,\n    borderColor: \"gray\",\n    borderWidth: 1\n  },\n  item: {\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 1,\n    elevation: 1,\n    padding: 5,\n    margin: 5,\n    backgroundColor: \"white\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    borderRadius: 5\n  }\n});\nexport default Categories;","map":{"version":3,"names":["React","useEffect","useState","EasyButton","baseURL","axios","AsyncStorage","add","Dimensions","get","width","Item","props","styles","item","name","delete","_id","color","fontWeight","Categories","categories","setCategories","categoryName","setCategoryName","token","setToken","getItem","then","res","catch","error","console","log","data","alert","addCategory","category","config","headers","Authorization","post","deleteCategory","id","newCategories","filter","position","height","marginBottom","index","bottomBar","input","text","StyleSheet","create","backgroundColor","padding","flexDirection","alignItems","justifyContent","bottom","left","borderColor","borderWidth","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","margin","borderRadius"],"sources":["D:/Learn/Nodejs/PRM_SWD_Project/mobile/easy-shop/Screens/Admin/Categories.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { \r\n    View, \r\n    Text,\r\n    FlatList,\r\n    Dimensions,\r\n    TextInput,\r\n    StyleSheet \r\n} from \"react-native\"\r\nimport EasyButton from \"../../Shared/StyledComponents/EasyButton\"\r\nimport baseURL from \"../../assets/common/baseUrl\";\r\nimport axios from \"axios\";\r\nimport AsyncStorage from \"@react-native-community/async-storage\"\r\nimport { add } from \"react-native-reanimated\";\r\n\r\nvar { width } = Dimensions.get(\"window\")\r\n\r\nconst Item = (props) => {\r\n    return (\r\n        <View style={styles.item}>\r\n            <Text>{props.item.name}</Text>\r\n            <EasyButton\r\n                danger\r\n                medium\r\n                onPress={() => props.delete(props.item._id)}\r\n            >\r\n                <Text style={{ color: \"white\", fontWeight: \"bold\"}}>Delete</Text>\r\n            </EasyButton>\r\n        </View>\r\n    )\r\n}\r\n\r\nconst Categories = (props) => {\r\n\r\n    const [categories, setCategories] = useState([]);\r\n    const [categoryName, setCategoryName] = useState();\r\n    const [token, setToken] = useState();\r\n\r\n    useEffect(() => {\r\n        AsyncStorage.getItem(\"jwt\")\r\n            .then((res) => {\r\n                setToken(res);\r\n            })\r\n            .catch((error) => console.log(error));\r\n\r\n        axios\r\n        .get(`${baseURL}categories`)\r\n        .then((res) => setCategories(res.data))\r\n        .catch((error) => alert(\"Error to load categories\"))\r\n\r\n        return () => {\r\n            setCategories();\r\n            setToken();\r\n        }\r\n    }, [])\r\n\r\n    const addCategory = () => {\r\n        const category = {\r\n            name: categoryName\r\n        };\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n            }\r\n        };\r\n\r\n        axios\r\n        .post(`${baseURL}categories`, category, config)\r\n        .then((res) => setCategories([...categories, res.data]))\r\n        .catch((error) => alert(\"Error to load categories\"));\r\n\r\n        setCategoryName(\"\");\r\n    }\r\n\r\n    const deleteCategory = (id) => {\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n            }\r\n        };\r\n\r\n        axios\r\n        .delete(`${baseURL}categories/${id}`, config)\r\n        .then((res) => {\r\n            const newCategories = categories.filter((item) => item.id !== id);\r\n            setCategories(newCategories);\r\n        })\r\n        .catch((error) => alert(\"Error to load categories\"));\r\n    }\r\n\r\n    return (\r\n        <View style={{ position: \"relative\", height: \"100%\"}}>\r\n            <View style={{ marginBottom: 60 }}>\r\n                <FlatList \r\n                    data={categories}\r\n                    renderItem={({ item, index }) => (\r\n                        <Item item={item} index={index} delete={deleteCategory} />\r\n                    )}\r\n                    keyExtractor={(item) => item.id}\r\n                />\r\n            </View>\r\n            <View style={styles.bottomBar}>\r\n                <View>\r\n                    <Text>Add Category</Text>\r\n                </View>\r\n                <View style={{ width: width / 2.5 }}>\r\n                    <TextInput \r\n                        value={categoryName}\r\n                        style={styles.input}\r\n                        onChangeText={(text) => setCategoryName(text)}\r\n                    />\r\n                </View>\r\n                <View>\r\n                    <EasyButton\r\n                        medium\r\n                        primary\r\n                        onPress={() => addCategory()}\r\n                    >\r\n                        <Text style={{ color: \"white\", fontWeight: \"bold\"}}>Submit</Text>\r\n                    </EasyButton>\r\n                </View>\r\n            </View>\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    bottomBar: {\r\n        backgroundColor: \"white\",\r\n        width: width,\r\n        height: 60,\r\n        padding: 2,\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-between\",\r\n        position: \"absolute\",\r\n        bottom: 0,\r\n        left: 0\r\n    },\r\n    input: {\r\n        height: 40,\r\n        borderColor: \"gray\",\r\n        borderWidth: 1\r\n    },\r\n    item: {\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 2,\r\n        },\r\n        shadowOpacity: 0.2,\r\n        shadowRadius: 1,\r\n        elevation: 1,\r\n        padding: 5,\r\n        margin: 5,\r\n        backgroundColor: \"white\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-between\",\r\n        borderRadius: 5\r\n    }\r\n})\r\n\r\nexport default Categories;"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASlD,OAAOC,UAAU;AACjB,OAAOC,OAAO;AACd,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,uCAAuC;AAChE,SAASC,GAAG,QAAQ,yBAAyB;AAAC,sBAE9BC,UAAU,CAACC,GAAG,CAAC,QAAQ,CAAC;EAAlCC,KAAK,mBAALA,KAAK;AAEX,IAAMC,IAAI,GAAG,SAAPA,IAAI,CAAIC,KAAK,EAAK;EACpB,OACI,oBAAC,IAAI;IAAC,KAAK,EAAEC,MAAM,CAACC,IAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACrB,oBAAC,IAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAEF,KAAK,CAACE,IAAI,CAACC,IAAI,CAAQ,EAC9B,oBAAC,UAAU;IACP,MAAM;IACN,MAAM;IACN,OAAO,EAAE;MAAA,OAAMH,KAAK,CAACI,MAAM,CAACJ,KAAK,CAACE,IAAI,CAACG,GAAG,CAAC;IAAA,CAAC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAE5C,oBAAC,IAAI;IAAC,KAAK,EAAE;MAAEC,KAAK,EAAE,OAAO;MAAEC,UAAU,EAAE;IAAM,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,YAAc,CACxD,CACV;AAEf,CAAC;AAED,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIR,KAAK,EAAK;EAAA,gBAEUV,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAzCmB,UAAU;IAAEC,aAAa;EAAA,iBACQpB,QAAQ,EAAE;IAAA;IAA3CqB,YAAY;IAAEC,eAAe;EAAA,iBACVtB,QAAQ,EAAE;IAAA;IAA7BuB,KAAK;IAAEC,QAAQ;EAEtBzB,SAAS,CAAC,YAAM;IACZK,YAAY,CAACqB,OAAO,CAAC,KAAK,CAAC,CACtBC,IAAI,CAAC,UAACC,GAAG,EAAK;MACXH,QAAQ,CAACG,GAAG,CAAC;IACjB,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,KAAK;MAAA,OAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAAA,EAAC;IAEzC1B,KAAK,CACJI,GAAG,CAAIL,OAAO,gBAAa,CAC3BwB,IAAI,CAAC,UAACC,GAAG;MAAA,OAAKP,aAAa,CAACO,GAAG,CAACK,IAAI,CAAC;IAAA,EAAC,CACtCJ,KAAK,CAAC,UAACC,KAAK;MAAA,OAAKI,KAAK,CAAC,0BAA0B,CAAC;IAAA,EAAC;IAEpD,OAAO,YAAM;MACTb,aAAa,EAAE;MACfI,QAAQ,EAAE;IACd,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMU,WAAW,GAAG,SAAdA,WAAW,GAAS;IACtB,IAAMC,QAAQ,GAAG;MACbtB,IAAI,EAAEQ;IACV,CAAC;IAED,IAAMe,MAAM,GAAG;MACXC,OAAO,EAAE;QACLC,aAAa,cAAYf;MAC7B;IACJ,CAAC;IAEDpB,KAAK,CACJoC,IAAI,CAAIrC,OAAO,iBAAciC,QAAQ,EAAEC,MAAM,CAAC,CAC9CV,IAAI,CAAC,UAACC,GAAG;MAAA,OAAKP,aAAa,8BAAKD,UAAU,IAAEQ,GAAG,CAACK,IAAI,GAAE;IAAA,EAAC,CACvDJ,KAAK,CAAC,UAACC,KAAK;MAAA,OAAKI,KAAK,CAAC,0BAA0B,CAAC;IAAA,EAAC;IAEpDX,eAAe,CAAC,EAAE,CAAC;EACvB,CAAC;EAED,IAAMkB,cAAc,GAAG,SAAjBA,cAAc,CAAIC,EAAE,EAAK;IAC3B,IAAML,MAAM,GAAG;MACXC,OAAO,EAAE;QACLC,aAAa,cAAYf;MAC7B;IACJ,CAAC;IAEDpB,KAAK,CACJW,MAAM,CAAIZ,OAAO,mBAAcuC,EAAE,EAAIL,MAAM,CAAC,CAC5CV,IAAI,CAAC,UAACC,GAAG,EAAK;MACX,IAAMe,aAAa,GAAGvB,UAAU,CAACwB,MAAM,CAAC,UAAC/B,IAAI;QAAA,OAAKA,IAAI,CAAC6B,EAAE,KAAKA,EAAE;MAAA,EAAC;MACjErB,aAAa,CAACsB,aAAa,CAAC;IAChC,CAAC,CAAC,CACDd,KAAK,CAAC,UAACC,KAAK;MAAA,OAAKI,KAAK,CAAC,0BAA0B,CAAC;IAAA,EAAC;EACxD,CAAC;EAED,OACI,oBAAC,IAAI;IAAC,KAAK,EAAE;MAAEW,QAAQ,EAAE,UAAU;MAAEC,MAAM,EAAE;IAAM,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACjD,oBAAC,IAAI;IAAC,KAAK,EAAE;MAAEC,YAAY,EAAE;IAAG,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAC9B,oBAAC,QAAQ;IACL,IAAI,EAAE3B,UAAW;IACjB,UAAU,EAAE;MAAA,IAAGP,IAAI,QAAJA,IAAI;QAAEmC,KAAK,QAALA,KAAK;MAAA,OACtB,oBAAC,IAAI;QAAC,IAAI,EAAEnC,IAAK;QAAC,KAAK,EAAEmC,KAAM;QAAC,MAAM,EAAEP,cAAe;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAG;IAAA,CAC5D;IACF,YAAY,EAAE,sBAAC5B,IAAI;MAAA,OAAKA,IAAI,CAAC6B,EAAE;IAAA,CAAC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAClC,CACC,EACP,oBAAC,IAAI;IAAC,KAAK,EAAE9B,MAAM,CAACqC,SAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAC1B,oBAAC,IAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACD,oBAAC,IAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,kBAAoB,CACtB,EACP,oBAAC,IAAI;IAAC,KAAK,EAAE;MAAExC,KAAK,EAAEA,KAAK,GAAG;IAAI,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAChC,oBAAC,SAAS;IACN,KAAK,EAAEa,YAAa;IACpB,KAAK,EAAEV,MAAM,CAACsC,KAAM;IACpB,YAAY,EAAE,sBAACC,IAAI;MAAA,OAAK5B,eAAe,CAAC4B,IAAI,CAAC;IAAA,CAAC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAChD,CACC,EACP,oBAAC,IAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACD,oBAAC,UAAU;IACP,MAAM;IACN,OAAO;IACP,OAAO,EAAE;MAAA,OAAMhB,WAAW,EAAE;IAAA,CAAC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAE7B,oBAAC,IAAI;IAAC,KAAK,EAAE;MAAElB,KAAK,EAAE,OAAO;MAAEC,UAAU,EAAE;IAAM,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,YAAc,CACxD,CACV,CACJ,CACJ;AAEf,CAAC;AAED,IAAMN,MAAM,GAAGwC,UAAU,CAACC,MAAM,CAAC;EAC7BJ,SAAS,EAAE;IACPK,eAAe,EAAE,OAAO;IACxB7C,KAAK,EAAEA,KAAK;IACZqC,MAAM,EAAE,EAAE;IACVS,OAAO,EAAE,CAAC;IACVC,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,eAAe;IAC/Bb,QAAQ,EAAE,UAAU;IACpBc,MAAM,EAAE,CAAC;IACTC,IAAI,EAAE;EACV,CAAC;EACDV,KAAK,EAAE;IACHJ,MAAM,EAAE,EAAE;IACVe,WAAW,EAAE,MAAM;IACnBC,WAAW,EAAE;EACjB,CAAC;EACDjD,IAAI,EAAE;IACFkD,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE;MACVvD,KAAK,EAAE,CAAC;MACRqC,MAAM,EAAE;IACZ,CAAC;IACDmB,aAAa,EAAE,GAAG;IAClBC,YAAY,EAAE,CAAC;IACfC,SAAS,EAAE,CAAC;IACZZ,OAAO,EAAE,CAAC;IACVa,MAAM,EAAE,CAAC;IACTd,eAAe,EAAE,OAAO;IACxBE,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,eAAe;IAC/BW,YAAY,EAAE;EAClB;AACJ,CAAC,CAAC;AAEF,eAAelD,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}