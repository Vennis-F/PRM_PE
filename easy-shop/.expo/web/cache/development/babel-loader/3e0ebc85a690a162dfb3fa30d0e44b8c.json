{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Left, Right, Container, H1 } from \"native-base\";\nimport Toast from \"react-native-toast-message\";\nimport EasyButton from \"../../Shared/StyledComponents/EasyButton\";\nimport TrafficLight from \"../../Shared/StyledComponents/TrafficLight\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../Redux/Actions/cartActions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SingleProduct = function SingleProduct(props) {\n  var _useState = useState(props.route.params.item),\n    _useState2 = _slicedToArray(_useState, 2),\n    item = _useState2[0],\n    setItem = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    availability = _useState4[0],\n    setAvailability = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    availabilityText = _useState6[0],\n    setAvailabilityText = _useState6[1];\n  useEffect(function () {\n    if (props.route.params.item.countInStock == 0) {\n      setAvailability(_jsx(TrafficLight, {\n        unavailable: true\n      }));\n      setAvailabilityText(\"Unvailable\");\n    } else if (props.route.params.item.countInStock <= 5) {\n      setAvailability(_jsx(TrafficLight, {\n        limited: true\n      }));\n      setAvailabilityText(\"Limited Stock\");\n    } else {\n      setAvailability(_jsx(TrafficLight, {\n        available: true\n      }));\n      setAvailabilityText(\"Available\");\n    }\n    return function () {\n      setAvailability(null);\n      setAvailabilityText(\"\");\n    };\n  }, []);\n  return _jsxs(Container, {\n    style: styles.container,\n    children: [_jsxs(ScrollView, {\n      style: {\n        marginBottom: 80,\n        padding: 5\n      },\n      children: [_jsx(View, {\n        children: _jsx(Image, {\n          source: {\n            uri: item.image ? item.image : \"https://cdn.pixabay.com/photo/2012/04/01/17/29/box-23649_960_720.png\"\n          },\n          resizeMode: \"contain\",\n          style: styles.image\n        })\n      }), _jsxs(View, {\n        style: styles.contentContainer,\n        children: [_jsx(H1, {\n          style: styles.contentHeader,\n          children: item.name\n        }), _jsx(Text, {\n          style: styles.contentText,\n          children: item.brand\n        })]\n      }), _jsxs(View, {\n        style: styles.availabilityContainer,\n        children: [_jsxs(View, {\n          style: styles.availability,\n          children: [_jsxs(Text, {\n            style: {\n              marginRight: 10\n            },\n            children: [\"Availability: \", availabilityText]\n          }), availability]\n        }), _jsx(Text, {\n          children: item.description\n        })]\n      })]\n    }), _jsxs(View, {\n      style: styles.bottomContainer,\n      children: [_jsx(Left, {\n        children: _jsxs(Text, {\n          style: styles.price,\n          children: [\"$ \", item.price]\n        })\n      }), _jsx(Right, {\n        children: _jsx(EasyButton, {\n          third: true,\n          medium: true,\n          onPress: function onPress() {\n            props.addItemToCart(item.id), Toast.show({\n              topOffset: 60,\n              type: \"success\",\n              text1: item.name + \" added to Cart\",\n              text2: \"Go to your cart to complete order\"\n            });\n          },\n          children: _jsx(Text, {\n            style: {\n              color: \"white\"\n            },\n            children: \"Add\"\n          })\n        })\n      })]\n    })]\n  });\n};\nvar mapToDispatchToProps = function mapToDispatchToProps(dispatch) {\n  return {\n    addItemToCart: function addItemToCart(product) {\n      return dispatch(actions.addToCart({\n        quantity: 1,\n        product: product\n      }));\n    }\n  };\n};\nvar styles = StyleSheet.create({\n  container: {\n    position: \"relative\",\n    height: \"100%\"\n  },\n  imageContainer: {\n    backgroundColor: \"white\",\n    padding: 0,\n    margin: 0\n  },\n  image: {\n    width: \"100%\",\n    height: 250\n  },\n  contentContainer: {\n    marginTop: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  contentHeader: {\n    fontWeight: \"bold\",\n    marginBottom: 20\n  },\n  contentText: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n    marginBottom: 20\n  },\n  bottomContainer: {\n    flexDirection: \"row\",\n    position: \"absolute\",\n    bottom: 0,\n    left: 0,\n    backgroundColor: \"white\"\n  },\n  price: {\n    fontSize: 24,\n    margin: 20,\n    color: \"red\"\n  },\n  availabilityContainer: {\n    marginBottom: 20,\n    alignItems: \"center\"\n  },\n  availability: {\n    flexDirection: \"row\",\n    marginBottom: 10\n  }\n});\nexport default connect(null, mapToDispatchToProps)(SingleProduct);","map":{"version":3,"names":["React","useState","useEffect","Image","View","StyleSheet","Text","ScrollView","Button","Left","Right","Container","H1","Toast","EasyButton","TrafficLight","connect","actions","jsx","_jsx","jsxs","_jsxs","SingleProduct","props","_useState","route","params","item","_useState2","_slicedToArray","setItem","_useState3","_useState4","availability","setAvailability","_useState5","_useState6","availabilityText","setAvailabilityText","countInStock","unavailable","limited","available","style","styles","container","children","marginBottom","padding","source","uri","image","resizeMode","contentContainer","contentHeader","name","contentText","brand","availabilityContainer","marginRight","description","bottomContainer","price","third","medium","onPress","addItemToCart","id","show","topOffset","type","text1","text2","color","mapToDispatchToProps","dispatch","product","addToCart","quantity","create","position","height","imageContainer","backgroundColor","margin","width","marginTop","justifyContent","alignItems","fontWeight","fontSize","flexDirection","bottom","left"],"sources":["D:/Learn/Nodejs/PRM_SWD_Project/mobile/easy-shop/Screens/Products/SingleProduct.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Image,\r\n  View,\r\n  StyleSheet,\r\n  Text,\r\n  ScrollView,\r\n  Button,\r\n} from \"react-native\";\r\nimport { Left, Right, Container, H1 } from \"native-base\";\r\nimport Toast from \"react-native-toast-message\";\r\nimport EasyButton from \"../../Shared/StyledComponents/EasyButton\";\r\nimport TrafficLight from \"../../Shared/StyledComponents/TrafficLight\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../Redux/Actions/cartActions\";\r\n\r\nconst SingleProduct = (props) => {\r\n  const [item, setItem] = useState(props.route.params.item);\r\n  const [availability, setAvailability] = useState(null);\r\n  const [availabilityText, setAvailabilityText] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (props.route.params.item.countInStock == 0) {\r\n      setAvailability(<TrafficLight unavailable></TrafficLight>);\r\n      setAvailabilityText(\"Unvailable\");\r\n    } else if (props.route.params.item.countInStock <= 5) {\r\n      setAvailability(<TrafficLight limited></TrafficLight>);\r\n      setAvailabilityText(\"Limited Stock\");\r\n    } else {\r\n      setAvailability(<TrafficLight available></TrafficLight>);\r\n      setAvailabilityText(\"Available\");\r\n    }\r\n\r\n    return () => {\r\n      setAvailability(null);\r\n      setAvailabilityText(\"\");\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Container style={styles.container}>\r\n      <ScrollView style={{ marginBottom: 80, padding: 5 }}>\r\n        <View>\r\n          <Image\r\n            source={{\r\n              uri: item.image\r\n                ? item.image\r\n                : \"https://cdn.pixabay.com/photo/2012/04/01/17/29/box-23649_960_720.png\",\r\n            }}\r\n            resizeMode=\"contain\"\r\n            style={styles.image}\r\n          />\r\n        </View>\r\n        <View style={styles.contentContainer}>\r\n          <H1 style={styles.contentHeader}>{item.name}</H1>\r\n          <Text style={styles.contentText}>{item.brand}</Text>\r\n        </View>\r\n        <View style={styles.availabilityContainer}>\r\n          <View style={styles.availability}>\r\n            <Text style={{ marginRight: 10 }}>\r\n              Availability: {availabilityText}\r\n            </Text>\r\n            {availability}\r\n          </View>\r\n          <Text>{item.description}</Text>\r\n        </View>\r\n      </ScrollView>\r\n\r\n      <View style={styles.bottomContainer}>\r\n        <Left>\r\n          <Text style={styles.price}>$ {item.price}</Text>\r\n        </Left>\r\n        <Right>\r\n          <EasyButton\r\n            third\r\n            medium\r\n            onPress={() => {\r\n              props.addItemToCart(item.id),\r\n                Toast.show({\r\n                  topOffset: 60,\r\n                  type: \"success\",\r\n                  text1: `${item.name} added to Cart`,\r\n                  text2: \"Go to your cart to complete order\",\r\n                });\r\n            }}\r\n          >\r\n            <Text style={{ color: \"white\" }}>Add</Text>\r\n          </EasyButton>\r\n        </Right>\r\n      </View>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapToDispatchToProps = (dispatch) => {\r\n  return {\r\n    addItemToCart: (product) =>\r\n      dispatch(actions.addToCart({ quantity: 1, product })),\r\n  };\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    position: \"relative\",\r\n    height: \"100%\",\r\n  },\r\n  imageContainer: {\r\n    backgroundColor: \"white\",\r\n    padding: 0,\r\n    margin: 0,\r\n  },\r\n  image: {\r\n    width: \"100%\",\r\n    height: 250,\r\n  },\r\n  contentContainer: {\r\n    marginTop: 20,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  contentHeader: {\r\n    fontWeight: \"bold\",\r\n    marginBottom: 20,\r\n  },\r\n  contentText: {\r\n    fontSize: 18,\r\n    fontWeight: \"bold\",\r\n    marginBottom: 20,\r\n  },\r\n  bottomContainer: {\r\n    flexDirection: \"row\",\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    left: 0,\r\n    backgroundColor: \"white\",\r\n  },\r\n  price: {\r\n    fontSize: 24,\r\n    margin: 20,\r\n    color: \"red\",\r\n  },\r\n  availabilityContainer: {\r\n    marginBottom: 20,\r\n    alignItems: \"center\",\r\n  },\r\n  availability: {\r\n    flexDirection: \"row\",\r\n    marginBottom: 10,\r\n  },\r\n});\r\n\r\nexport default connect(null, mapToDispatchToProps)(SingleProduct);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}